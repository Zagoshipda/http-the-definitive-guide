# Answers

## 2.1 인터넷의 리소스 탐색하기

### Q. "HTTP 애플리케이션은 URL을 URI의 한 부분으로 취급한다"가 무슨 뜻이야? 실제 HTTP 애플리케이션이 어떻게 \(URL을 포함한\) URI를 취급하는 것일까? \(우빈\)

> 책 28페이지에 있는 문장을 읽고 궁금한 점이 생긴 것인데, HTTP 어플리케이션이 URI를 처리할 때 URL과 URN을 구분하지 않고 처리한다는 것일까? 뒷부분을 아직 안 읽어봐서... 함께 이야기해보면 좋겠다.

## 2.2 URL 문법

### Q. URL에 사용자 이름과 비밀번호를 넘기는 것은 보안 문제가 없을까? \(우빈\)

1\) 보안 문제가 있을 것이라고 추측할 수 있다. 브라우저에 인터넷 사용 기록이 남는다거나, 로그에 URL이 찍히기 때문이다.

2\) 하지만 이 URL이 그대로 사용되는 것은 아니다. 로그가 남아도 보통 host 주소까지만 남는다. 왜냐하면 브라우저가 `username:password` 조합을 받아서 Authorization 헤더로 변환하기 때문이다. \([https://stackoverflow.com/questions/1582894/how-to-send-password-securely-over-http](https://stackoverflow.com/questions/1582894/how-to-send-password-securely-over-http)\) 기본적으로는 Basic access authentication\([https://en.wikipedia.org/wiki/Basic\_access\_authentication](https://en.wikipedia.org/wiki/Basic_access_authentication)\)이 사용된다. 다른 헤더들과 마찬가지로 HTTPS에 의해 암호화된다.

### Q. 포트가 무엇인지 정리해보자 \(우빈\)

> 포트란 무엇인가라고 검색했더니 검색 결과에 웬 fortran이...

컴퓨터에는 USB와 같은 하드웨어 포트와 소프트웨어 포트, 두 가지 종류의 포트한다. 보통 포트는 소프트웨어 포트를 부르는 말로 사용된다. TCP나 UDP 에서 어플리케이션이 상호구분을 위해서 사용하는 번호이다. IP 내에서 프로세스 구분을 하기 위해서 사용한다.

{% embed url="https://blockdmask.tistory.com/195" %}

* 0번 - 1023번: [잘 알려진 포트](https://ko.wikipedia.org/wiki/%EC%9E%98_%EC%95%8C%EB%A0%A4%EC%A7%84_%ED%8F%AC%ED%8A%B8) \(well-known port\)
  * 80: HTTP
  * 443: HTTPS
* 1024번 - 49151번: 등록된 포트 \(registered port\)
  * 3306: MySQL
* 49152번 - 65535번: 동적 포트 \(dynamic port\)
  * 어떤 프로세스든 임의로 사용 가능

### Q. URL 문법에서 파라미터와 질의가 어떻게 다른지 잘 모르겠어요

파라미터와 질의는 모두 key-value 형태로 URL 상에 추가적인 정보를 제공해주지만, 가장 큰 차이는 질의는 언제나 URL 의 일부여야 한다는 것입니다. 반면 파라미터는 form-data 형태로 URL 에 나타나지 않은 채로 전송될 수 있습니다.

[What is the difference between URL parameters and query strings? - Stack Overflow](https://stackoverflow.com/questions/39266970/what-is-the-difference-between-url-parameters-and-query-strings).

### Q. 프래그먼트 예시

github 의 linux 프로젝트 main.c 의 111 번째 프래그먼트를 요청해보았다 \([https://github.com/torvalds/linux/blob/43b815c6a8e7dbccb5b8bd9c4b099c24bc22d135/init/main.c\#L111](https://github.com/torvalds/linux/blob/43b815c6a8e7dbccb5b8bd9c4b099c24bc22d135/init/main.c#L111)\)

![fragment\_example2.png](../../.gitbook/assets/frament_example2.png)

실제로 request url 에는 fragment\(\#\) 이 포함되어 있지 않지만 browser 에서는 111번째 라인부터 표시해준다

## 2.3 단축 URL

### Q. 상대 URL 예시

> [https://github.com/jeuxdeau/http-the-definitive-guide/blob/master/i.http-the-webs-foundation/01.overview-of-http/01.overview-of-http-answers.md](https://github.com/jeuxdeau/http-the-definitive-guide/blob/master/i.http-the-webs-foundation/01.overview-of-http/01.overview-of-http-answers.md)

![relative\_url.png](../../.gitbook/assets/relative_url_example.png)

```markup
<p><strong>(2) 헤더</strong></p>
<p>헤더는 대소문자 구분 없는 문자열, 콜론(:), 값으로 이루어진다.</p>
<p>
  <a
    target="_blank"
    rel="noopener noreferrer"
    href="/jeuxdeau/http-the-definitive-guide/blob/master/.gitbook/assets/http_request_headers2.png"
    ><img
      src="/jeuxdeau/http-the-definitive-guide/raw/master/.gitbook/assets/http_request_headers2.png"
      alt=""
      style="max-width:100%;"
  /></a>
</p>
```

1. .png 의 경로가 /jeuxdeau/... 로 시작한다 \(상대 참조\)
2.  tag 가 없다
3. 기저 URL 이 명시되지 않았으므로 해당 리소스의 URL 을 기저 URL 로 사용한다
4. URL 분해 알고리즘을 사용하여 기저 URL 을 파싱한다
   1. 스킴이 비었다 \([https://github.com/jeuxdeau/http-the-definitive-guide/blob/master/i.http-the-webs-foundation/01.overview-of-http/01.overview-of-http-answers.md](https://github.com/jeuxdeau/http-the-definitive-guide/blob/master/i.http-the-webs-foundation/01.overview-of-http/01.overview-of-http-answers.md) 에서 스킴을 상속받고 사용자 이름, 비밀번호, 호스트, 포트 컴포넌트를 검사\)
      * https://
   2. 적어도 한 개 이상의 컴포넌트가 존재한다 \(사용자 이름, 비밀번호, 호스트, 포트를 상속받는다\)
      * [https://github.com](https://github.com)
   3. '/'로 시작하는 경로가 있다
   4. 상속받은 컴포넌트와 상대 컴포넌트를 합친다
      * [https://github.com/jeuxdeau/http-the-definitive-guide/blob/master/.gitbook/assets/http\_request\_headers2.png](https://github.com/jeuxdeau/http-the-definitive-guide/blob/master/.gitbook/assets/http_request_headers2.png)

> 모든 컴포넌트가 비어 있다가 오른쪽 방향 아닌가?

![url\_parsing.png](../../.gitbook/assets/url_parsing.png)

1. 이미지의 source 는 [https://github.com/jeuxdeau/http-the-definitive-guide/blob/master/.gitbook/assets/http\_request\_headers2.png](https://github.com/jeuxdeau/http-the-definitive-guide/blob/master/.gitbook/assets/http_request_headers2.png) 가 된다

