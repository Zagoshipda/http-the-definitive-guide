# Answers

## 3.1 메시지의 흐름 <a id="3-1"></a>

## 3.2 메시지의 각 부분 <a id="3-2"></a>
* 스펙은 CRLF 이지만 개행도 처리해야 한다 ??
> CR (Carriage Return - 커서를 라인 맨 앞으로 옮기는 것) 과 LF(Line Feed - 커서를 바로 아래 라인으로 이동시키는 것) 로 개행, EOL 을 의미한다.
> 그러나 OS 별로 CR, LF 을 개행으로 처리할 수 있게 하면서 역시 HTTP 메세지의 시작줄과 헤더, 본문의 개행 문자 또한 영향을 받을 수 있다
> [Newline - Wikipedia](https://en.wikipedia.org/wiki/Newline)

## 3.3 메서드 <a id="3-3"></a>
* http method idempotent, safe?
> safe method : 서버 자원의 상태를 변경하지 않는 method. read only method 들이 해당한다 (GET, HEAD, OPTIONS, TRACE)
> idempotent method : 서버 자원 상태를 변경하지만, 동일한 요청에 대한 서버의 응답과 상태가 항상 일정한 method (safe method + PUT, DELETE)
```
+---------+------+------------+
| Method  | Safe | Idempotent |
+---------+------+------------+
| CONNECT | no   | no         |
| DELETE  | no   | yes        |
| GET     | yes  | yes        |
| HEAD    | yes  | yes        |
| OPTIONS | yes  | yes        |
| POST    | no   | no         |
| PUT     | no   | yes        |
| PATCH   | no   | no         |
| TRACE   | yes  | yes        |
+---------+------+------------+  
```
> + POST 는 입력 데이터를 전송하기 위한 목적의 메서드이다. 따라서 서버가 데이터를 받아 일관된 동작을 할 것이라는 보장이 없다
> + PATCH 는 PUT 과 유사해보이지만 리소스의 일부만을 업데이트하기 때문에 항상 idempotent 임이 보장되지 않는다
> (기존 리소스에 새로운 데이터를 추가하는 동작의 경우 (UPDATE), 메서드가 호출된 횟수만큼의 데이터가 추가되어 호출 할 때마다 결과가 달라진다)

* TRACE 를 허용하는 사이트를 찾아보기가 힘들다... 왜죠??
> [Cross Site Tracing - OWASP](https://www.owasp.org/index.php/Cross_Site_Tracing) 
> Cross Site Scripting 에 의한 세션 탈취를 방지하기 위한 HttpOnly (오로지 Http 통신에서만 쿠키를 사용하도록 함) 를 우회하는 방법. TRACE 요청에 대한 응답에 클라이언트의 쿠키가 포함되어 있는 것이 문제가 됨
> + 이 외에도 디버깅 및 테스트 용도가 아니라면 TRACE 메서드를 굳이 열어둘만한 이유가 없고, 불필요한 인터페이스를 닫음으로써 혹시라도 존재할지 모르는 취약점을 방어하는 효과도 있다고 함

## 3.4 상태 코드 <a id="3-4"></a>

## 3.5 헤더‌ <a id="3-5"></a>

## 3.6 추가 정보 <a id="3-6"></a>

​

